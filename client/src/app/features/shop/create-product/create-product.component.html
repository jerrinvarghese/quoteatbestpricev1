<form [formGroup]="productForm" class="grid grid-cols-2 gap-4">

  <mat-form-field appearance="outline">
    <mat-label>Name</mat-label>
    <input matInput formControlName="name">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Title</mat-label>
    <input matInput formControlName="title">
  </mat-form-field>

  <mat-form-field appearance="outline" class="col-span-2">
    <mat-label>Description</mat-label>
    <textarea matInput rows="3" formControlName="description"></textarea>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Price</mat-label>
    <input matInput type="number" formControlName="price">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Year</mat-label>
    <input matInput type="number" formControlName="year">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Color</mat-label>
    <input matInput formControlName="color">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Kilometers</mat-label>
    <input matInput type="number" formControlName="kilometers">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Owner</mat-label>
    <mat-select formControlName="ownerNumber">
      <mat-option [value]="1">1</mat-option>
      <mat-option [value]="2">2</mat-option>
      <mat-option [value]="3">3</mat-option>
      <mat-option [value]="4">More than 3</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Fuel Type</mat-label>
    <mat-select formControlName="fuelType">
      <mat-option value="Petrol">Petrol</mat-option>
      <mat-option value="Diesel">Diesel</mat-option>
      <mat-option value="Electric">Electric</mat-option>
      <mat-option value="CNG">CNG</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Transmission</mat-label>
    <mat-select formControlName="transmissionType">
      <mat-option value="Automatic">Automatic</mat-option>
      <mat-option value="Manual">Manual</mat-option>
    </mat-select>
  </mat-form-field>

  <!-- Location Autocomplete -->
<!-- Location -->
<mat-form-field appearance="outline">
  <mat-label>Location</mat-label>
  <input
    matInput
    type="text"
    formControlName="location"
    [matAutocomplete]="autoLocation"
    placeholder="Type city (min 3 chars)"
  />

  <mat-autocomplete #autoLocation="matAutocomplete">
    <mat-option
      *ngFor="let location of filteredLocations$ | async"
      [value]="location">
      {{ location }}
    </mat-option>
  </mat-autocomplete>
</mat-form-field>

  <!-- Cascading Dropdowns -->
  <mat-form-field appearance="outline">
    <mat-label>Type</mat-label>
    <mat-select formControlName="type" (selectionChange)="onTypeChange($event.value)">
      <mat-option *ngFor="let t of types" [value]="t">{{ t.typeName }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Brand</mat-label>
    <mat-select formControlName="brand" (selectionChange)="onBrandChange($event.value)">
      <mat-option *ngFor="let b of brands" [value]="b.id">{{ b.brandName }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Make</mat-label>
    <mat-select formControlName="make" (selectionChange)="onMakeChange($event.value)">
      <mat-option *ngFor="let m of makes" [value]="m.id">{{ m.makeName }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Model</mat-label>
    <mat-select formControlName="model">
      <mat-option *ngFor="let m of models" [value]="m.id">{{ m.modelName }}</mat-option>
    </mat-select>
  </mat-form-field>

  <div class="col-span-2">
    <input type="file" multiple accept="image/*" (change)="onFilesSelected($event)">
  </div>

  <div class="col-span-2 flex justify-end">
    <button mat-flat-button color="primary" (click)="submit()">
      Post Ad
    </button>
  </div>

</form>
